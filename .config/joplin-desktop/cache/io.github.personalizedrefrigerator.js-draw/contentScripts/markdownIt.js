(()=>{"use strict";var e={167:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=e=>{const t=e.querySelector("img");if(!t)return void console.warn("Freehand drawing plugin: No image found in container.");if(e.classList.contains("js-draw--editable"))return;e.classList.add("js-draw--editable");const a=e.getAttribute("data-js-draw-edit-label"),n=e.getAttribute("data-js-draw-content-script-id"),s=()=>{const e=t.src;webviewApi.postMessage(n,e).catch((t=>{console.error("Error posting message!",t,"\nMessage: ",e)}))};document.body.classList.contains("mce-content-body")||"tinymce"===document.body.id?t.style.cursor="pointer":(()=>{const t=document.createElement("button");t.textContent=`${a} 🖊️`,t.classList.add("jsdraw--editButton"),e.appendChild(t),t.onclick=()=>{s()}})(),t.ondblclick=s}},31:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});const a={insertDrawing:"Insert Drawing",insertDrawingInNewWindow:"Insert drawing in new window",restoreFromAutosave:"Restore from autosaved drawing",deleteAutosave:"Delete all autosaved drawings",noSuchAutosaveExists:"No autosave exists",discardChanges:"Discard changes",defaultImageTitle:"Freehand Drawing",edit:"Edit",close:"Close",saveAndClose:"Save and close",overwriteExisting:"Overwrite existing",saveAsNewDrawing:"Save as a new drawing",clickBelowToContinue:"Done! Click below to continue.",discardUnsavedChanges:"Discard unsaved changes?",resumeEditing:"Resume editing",saveAndResumeEditing:"Save and resume editing",saveChanges:"Save changes",exitInstructions:"All changes saved! Click below to exit.",settingsPaneDescription:"Settings for the Freehand Drawing image editor.",setting__disableFullScreen:"Dialog mode",setting__disableFullScreenDescription:"Enabling this setting causes the editor to only partially fill the Joplin window.",setting__autosaveIntervalSettingLabel:"Autosave interval (minutes)",setting__autosaveIntervalSettingDescription:'Adjusts how often a backup copy of the current drawing is created. The most recent autosave can be restored by searching for ":restore autosave" in the command palette (ctrl+shift+p or cmd+shift+p on MacOS) and clicking "Restore from autosaved drawing". If this setting is set to zero, autosaves are created every two minutes.',setting__themeLabel:"Theme",setting__toolbarTypeLabel:"Toolbar type",setting__toolbarTypeDescription:"This setting switches between possible toolbar user interfaces for the image editor.",setting__keyboardShortcuts:"Keyboard shortcuts",toolbarTypeDefault:"Default",toolbarTypeSidebar:"Sidebar",toolbarTypeDropdown:"Dropdown",styleMatchJoplin:"Match Joplin",styleJsDrawLight:"Light",styleJsDrawDark:"Dark",images:"Images",pdfs:"PDFs",allFiles:"All Files",loadLargePdf:e=>`A selected file is a large PDF (${e} pages). Loading it may take some time and increase the size of the current drawing. Continue?`,notAnEditableImage:(e,t)=>`Resource ${e} is not an editable image. Unable to edit resource of type ${t}.`},n={de:Object.assign(Object.assign({},a),{insertDrawing:"Zeichnung einfügen",restoreFromAutosave:"Automatische Sicherung wiederherstellen",deleteAutosave:"Alle automatischen Sicherungen löschen",noSuchAutosaveExists:"Keine automatischen Sicherungen vorhanden",discardChanges:"Änderungen verwerfen",defaultImageTitle:"Freihand-Zeichnen",edit:"Bearbeiten",close:"Schließen",overwriteExisting:"Existierende Zeichnung überschreiben",saveAsNewDrawing:"Als neue Zeichnung speichern",clickBelowToContinue:"Fertig! Klicke auf „Ok“ um fortzufahen.",discardUnsavedChanges:"Ungespeicherte Änderungen verwerfen?",resumeEditing:"Bearbeiten fortfahren",notAnEditableImage:(e,t)=>`Die Ressource ${e} ist kein bearbeitbares Bild. Ressource vom Typ ${t} kann nicht bearbeitet werden.`}),en:a,es:Object.assign(Object.assign({},a),{insertDrawing:"Añada dibujo",restoreFromAutosave:"Resturar al autoguardado",deleteAutosave:"Borrar el autoguardado",noSuchAutosaveExists:"No autoguardado existe",discardChanges:"Descartar cambios",defaultImageTitle:"Dibujo",edit:"Editar",close:"Cerrar",saveAndClose:"Guardar y cerrar",overwriteExisting:"Sobrescribir existente",saveAsNewDrawing:"Guardar como dibujo nuevo",clickBelowToContinue:"Guardado. Ponga «ok» para continuar.",discardUnsavedChanges:"¿Descartar cambios no guardados?",resumeEditing:"Continuar editando",saveAndResumeEditing:"Guardar y continuar editando"})};let s;const i=[...navigator.languages];for(const e of navigator.languages){const t=e.indexOf("-");-1!==t&&i.push(e.substring(0,t))}for(const e of i)if(e in n){s=n[e];break}s||(console.log("No supported localization found. Falling back to default."),s=a),t.default=s}},t={};function a(n){var s=t[n];if(void 0!==s)return s.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,a),i.exports}var n={};(()=>{var e=n;const t=a(167),s=a(31);e.default=({contentScriptId:e})=>({plugin:(a,n)=>{const i=a.renderer.rules.image;a.renderer.rules.image=(n,r,o,d,l)=>{var c;const u=null!==(c=null==i?void 0:i(n,r,o,d,l))&&void 0!==c?c:"";if(!/src\s*=\s*['"](file:[/][/]|jop[-a-zA-Z]+:[/][/])?[^'"]*[.]svg([?]t=\d+)?['"]/i.exec(null!=u?u:""))return u;const g=a.utils.escapeHtml(t.default.toString()),h=e=>JSON.stringify(a.utils.escapeHtml(e)),b=u.replace("<img ",`<img onload="(${g})(this.parentElement)" `);return["<span","\tclass='jsdraw--svgWrapper'",`\tdata-js-draw-edit-label=${h(s.default.edit)}`,`\tdata-js-draw-content-script-id=${h(e)}`,"\tcontentEditable='false'>",b,"</span>"].join("")}},assets:()=>[{name:"markdownIt.css"},{name:"markdownIt-content.js"}]})})(),exports.default=n.default})();